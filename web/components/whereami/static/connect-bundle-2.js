import*as e from"react-dom";import*as t from"react";var r={581:(e,t,r)=>{r.d(t,{A:()=>c});var n=r(601),o=r.n(n),a=r(314),i=r.n(a)()(o());i.push([e.id,".connect-dialog .modal-content {\n    border-radius: 12px;\n    border: none;\n    padding: 20px;\n}\n\n.login-option {\n    margin-bottom: 20px;\n}\n\n.login-container {\n    margin-bottom: 15px;\n}\n\n.login-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 15px;\n}\n\n.login-header .title {\n    font-size: 1.25rem;\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n}\n\n.arrow-back {\n    width: 24px;\n    height: 24px;\n    margin-right: 10px;\n    cursor: pointer;\n}\n\n.login-separator {\n    text-align: center;\n    margin: 20px 0;\n    color: #6c757d;\n}\n\n.info-title {\n    font-weight: 500;\n    margin-bottom: 8px;\n}\n\n.password-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n}\n\n.header-right {\n    font-size: 0.9rem;\n}\n\n.no-title {\n    margin-top: 15px;\n}\n\n.network-name {\n    font-family: monospace;\n}\n\n/* Button styles */\n.btn-primary {\n    width: 100%;\n    margin-top: 15px;\n}\n\n.btn-secondary {\n    background-color: transparent;\n    border-color: #6c757d;\n    color: #6c757d;\n}\n\n/* Form styles */\n.form-control {\n    border-radius: 4px;\n}\n\n.form-check-label {\n    font-size: 0.9rem;\n    color: #6c757d;\n}\n\n/* Google and Apple sign-in buttons */\n#g_id_button {\n    margin-bottom: 10px;\n}\n\n#appleid-signin {\n    margin-bottom: 10px;\n    width: 300px;\n    height: 40px;\n}\n\n#appleid-signin>div {\n    width: 100% !important;\n}\n\n/* Spinner styles */\n.spinner-border-sm {\n    margin-right: 5px;\n}",""]);const c=i},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r="",n=void 0!==t[5];return t[4]&&(r+="@supports (".concat(t[4],") {")),t[2]&&(r+="@media ".concat(t[2]," {")),n&&(r+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),r+=e(t),n&&(r+="}"),t[2]&&(r+="}"),t[4]&&(r+="}"),r})).join("")},t.i=function(e,r,n,o,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(n)for(var c=0;c<this.length;c++){var u=this[c][0];null!=u&&(i[u]=!0)}for(var l=0;l<e.length;l++){var s=[].concat(e[l]);n&&i[s[0]]||(void 0!==a&&(void 0===s[5]||(s[1]="@layer".concat(s[5].length>0?" ".concat(s[5]):""," {").concat(s[1],"}")),s[5]=a),r&&(s[2]?(s[1]="@media ".concat(s[2]," {").concat(s[1],"}"),s[2]=r):s[2]=r),o&&(s[4]?(s[1]="@supports (".concat(s[4],") {").concat(s[1],"}"),s[4]=o):s[4]="".concat(o)),t.push(s))}},t}},601:e=>{e.exports=function(e){return e[1]}},338:(e,t,r)=>{var n=r(516);t.H=n.createRoot,n.hydrateRoot},72:e=>{var t=[];function r(e){for(var r=-1,n=0;n<t.length;n++)if(t[n].identifier===e){r=n;break}return r}function n(e,n){for(var a={},i=[],c=0;c<e.length;c++){var u=e[c],l=n.base?u[0]+n.base:u[0],s=a[l]||0,f="".concat(l," ").concat(s);a[l]=s+1;var d=r(f),h={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==d)t[d].references++,t[d].updater(h);else{var p=o(h,n);n.byIndex=c,t.splice(c,0,{identifier:f,updater:p,references:1})}i.push(f)}return i}function o(e,t){var r=t.domAPI(t);r.update(e);return function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;r.update(e=t)}else r.remove()}}e.exports=function(e,o){var a=n(e=e||[],o=o||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var c=r(a[i]);t[c].references--}for(var u=n(e,o),l=0;l<a.length;l++){var s=r(a[l]);0===t[s].references&&(t[s].updater(),t.splice(s,1))}a=u}}},659:e=>{var t={};e.exports=function(e,r){var n=function(e){if(void 0===t[e]){var r=document.querySelector(e);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,r)=>{e.exports=function(e){var t=r.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(r){!function(e,t,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,r)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},516:t=>{t.exports=e}},n={};function o(e){var t=n[e];if(void 0!==t)return t.exports;var a=n[e]={id:e,exports:{}};return r[e](a,a.exports,o),a.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var r in t)o.o(t,r)&&!o.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nc=void 0;var a={};o.d(a,{qw:()=>ne,dm:()=>U,pK:()=>s,J$:()=>oe});const i=(e=>{var t={};return o.d(t,e),t})({default:()=>t.default,useEffect:()=>t.useEffect,useRef:()=>t.useRef,useState:()=>t.useState});var c=o(338);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return l(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const s=function(){var e=u((0,i.useState)("Connect"),2),t=e[0],r=e[1];(0,i.useEffect)((function(){return o(),document.addEventListener("byJwtChanged",o),function(){document.removeEventListener("byJwtChanged",o)}}),[]);var n=function(){var e=localStorage.getItem("byJwt");return e&&function(e){try{var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(r)}catch(e){return null}}(e)},o=function(){var e=n();r(e?e.network_name:"Connect")};return i.default.createElement("div",{"data-bs-target":"#dialog-connect",onClick:function(){var e=document.getElementById("dialog-connect");e&&new bootstrap.Modal(e).show()},style:{cursor:"pointer"}},i.default.createElement("p",null,t))};var f=function(e,t,r,n){var o=new Headers;o.append("X-Client-Version","1.0.0-ur"),o.append("Content-Type","application/json"),null!=n&&o.append("Authorization","Bearer ".concat(n));var a={method:e,headers:o};r&&(a.body=JSON.stringify(r));var i="https://".concat(t.startsWith("/")?"api.":"").concat("bringyour.com").concat(t),c=new Request(i,a);return function(e,t,r){var n,o=Symbol();return Promise.race([e,new Promise((function(e,a){n=setTimeout(a,t||15e3,r||o)}))]).finally((function(){return clearTimeout(n)}))}(fetch(c).then((function(e){return e.json()})))};function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(){h=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),c=new I(n||[]);return o(i,"_invoke",{value:O(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",m="suspendedYield",v="executing",y="completed",g={};function w(){}function b(){}function E(){}var x={};l(x,i,(function(){return this}));var L=Object.getPrototypeOf,S=L&&L(L(C([])));S&&S!==r&&n.call(S,i)&&(x=S);var N=E.prototype=w.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,a,i,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==d(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=p;return function(a,i){if(o===v)throw Error("Generator is already running");if(o===y){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===g)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===p)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=v;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?y:m,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=y,n.method="throw",n.arg=l.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,g;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,g):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(d(t)+" is not iterable")}return b.prototype=E,o(N,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},k(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(N),l(N,u,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function p(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function m(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){p(a,n,o,i,c,"next",e)}function c(e){p(a,n,o,i,c,"throw",e)}i(void 0)}))}}const v=function(e){var t=e.onLogin,r=e.onPasswordLogin,n=e.onCreateNetwork,o=(0,i.useRef)(),a=(0,i.useRef)(),c=(0,i.useRef)(),u=(0,i.useRef)(),l=(0,i.useRef)();(0,i.useEffect)((function(){if(window.google&&(window.google.accounts.id.initialize({client_id:"338638865390-cg4m0t700mq9073smhn9do81mr640ig1.apps.googleusercontent.com",callback:s}),window.google.accounts.id.renderButton(document.getElementById("g_id_button"),{type:"standard",theme:"outline",size:"large",text:"continue_with",shape:"rectangular",logo_alignment:"center",width:300})),"undefined"!=typeof AppleID){var e=crypto.randomUUID();AppleID.auth.init({clientId:"com.bringyour.service",scope:"name email",redirectURI:"https://ur.io",state:"continue",nonce:e,usePopup:!0}),AppleID.auth.renderButton({element:document.getElementById("appleid-signin"),theme:"outline",type:"continue",locale:"en_US"}),window.connectAppleIDSignInOnSuccess&&document.removeEventListener("AppleIDSignInOnSuccess",window.connectAppleIDSignInOnSuccess),window.connectAppleIDSignInOnSuccess=function(e){d(e.detail.authorization.id_token)},document.addEventListener("AppleIDSignInOnSuccess",window.connectAppleIDSignInOnSuccess),window.connectAppleIDSignInOnFailure&&document.removeEventListener("AppleIDSignInOnFailure",window.connectAppleIDSignInOnFailure),window.connectAppleIDSignInOnFailure=function(e){console.log("[apple]sign in failure: ".concat(e.detail.error))},document.addEventListener("AppleIDSignInOnFailure",window.connectAppleIDSignInOnFailure)}}),[]);var s=function(){var e=m(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.error){e.next=11;break}return e.prev=1,e.next=4,f("POST","/auth/login",{auth_jwt_type:"google",auth_jwt:t.credential});case 4:r=e.sent,p(r,"google",t.credential),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p(null);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=m(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("POST","/auth/login",{auth_jwt_type:"apple",auth_jwt:t});case 3:r=e.sent,p(r,"apple",t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),p(null);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e,o,a){if(!e)return l.current.textContent="Something went wrong",void l.current.classList.remove("d-none");if(e.network)t(e.network.by_jwt);else if(e.auth_allowed){var i,c=e.auth_allowed,u=e.user_auth;if(c.includes("password")&&u)r(u);else i=c.includes("apple")&&c.includes("google")?"Please continue with Apple or Google":c.includes("apple")?"Please continue with Apple":c.includes("google")?"Please continue with Google":c.includes("password")?"Please continue with email or phone number":"Something went wrong. Please try again later.",l.current.textContent=i,l.current.classList.remove("d-none")}else{var s=e.user_name;n(s)}},v=function(){var e=m(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=a.current.value,c.current.disabled=!0,u.current.classList.remove("d-none"),e.prev=4,e.next=7,f("POST","/auth/login",{user_auth:r});case 7:n=e.sent,y(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),y(null);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),y=function(e){if(!e)return l.current.textContent="Something went wrong",void l.current.classList.remove("d-none");if(e.network)t(e.network.by_jwt);else if(e.auth_allowed){if(e.auth_allowed.includes("password"))return void r(e.user_auth);var o;o=e.auth_allowed.includes("apple")&&e.auth_allowed.includes("google")?"Please continue with Apple or Google":e.auth_allowed.includes("apple")?"Please continue with Apple":e.auth_allowed.includes("google")?"Please continue with Google":"Something went wrong. Please try again later.",l.current.textContent=o,l.current.classList.remove("d-none")}else!e.auth_allowed&&e.user_auth?n(e.user_auth):(l.current.textContent="Something unexpected happened.",l.current.classList.remove("d-none"));c.current.disabled=!1,u.current.classList.add("d-none")};return i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("div",{className:"login-header"},i.default.createElement("div",{className:"title"},"Login"),i.default.createElement("div",{className:"header-right"},i.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),n()}},"or create a network"))),i.default.createElement("div",{id:"g_id_button"}),i.default.createElement("div",{id:"appleid-signin"}),i.default.createElement("div",{className:"login-separator"},"- or -"),i.default.createElement("form",{ref:o,onSubmit:v},i.default.createElement("div",{className:"info-title"},"Email or Phone Number"),i.default.createElement("div",null,i.default.createElement("input",{ref:a,type:"text",className:"form-control"})),i.default.createElement("div",{ref:l,className:"text-danger d-none"}),i.default.createElement("div",{className:"no-title"},i.default.createElement("button",{ref:c,className:"btn btn-primary",type:"submit"},i.default.createElement("span",{ref:u,className:"spinner-border spinner-border-sm d-none",role:"status"}),i.default.createElement("span",{className:"primary"},"Continue"))))))};function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function g(){g=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof w?t:w,i=Object.create(a.prototype),c=new I(n||[]);return o(i,"_invoke",{value:O(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function w(){}function b(){}function E(){}var x={};l(x,i,(function(){return this}));var L=Object.getPrototypeOf,S=L&&L(L(C([])));S&&S!==r&&n.call(S,i)&&(x=S);var N=E.prototype=w.prototype=Object.create(x);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,a,i,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==y(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(y(t)+" is not iterable")}return b.prototype=E,o(N,"constructor",{value:E,configurable:!0}),o(E,"constructor",{value:b,configurable:!0}),b.displayName=l(E,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,l(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},k(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(N),l(N,u,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function w(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}const b=function(e){var t=e.userAuth,r=e.onLogin,n=e.onBack,o=(0,i.useRef)(),a=(0,i.useRef)(),c=(0,i.useRef)(),u=(0,i.useRef)(),l=(0,i.useRef)(),s=function(){var e,r=(e=g().mark((function e(r){var n,o;return g().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=a.current.value,c.current.disabled=!0,u.current.classList.remove("d-none"),e.prev=4,e.next=7,f("POST","/auth/login-with-password",{user_auth:t,password:n});case 7:o=e.sent,d(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),d(null);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){w(a,n,o,i,c,"next",e)}function c(e){w(a,n,o,i,c,"throw",e)}i(void 0)}))});return function(e){return r.apply(this,arguments)}}(),d=function(e){e?e.error?h(e.error.message):e.verification_required?onVerificationRequired(e.verification_required.user_auth):e.network?r(e.network.by_jwt):h("Something unexpected happened."):h("Something went wrong. Please try again later.")},h=function(e){l.current.textContent=e,l.current.classList.remove("d-none"),c.current.disabled=!1,u.current.classList.add("d-none")};return i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("div",{className:"login-header"},i.default.createElement("div",{className:"title"},i.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),n()}},i.default.createElement("img",{src:"https://bringyour.com/res/images/arrow-back.svg",className:"arrow-back",alt:"Back"})),"Welcome back")),i.default.createElement("div",null,"Log in using ",t)),i.default.createElement("div",{className:"login-container"},i.default.createElement("form",{ref:o,onSubmit:s},i.default.createElement("div",{className:"password-header"},i.default.createElement("div",{className:"info-title"},"Password"),i.default.createElement("div",{className:"header-right"},i.default.createElement("a",{href:"/connect/password-reset"},"Forgot your password?"))),i.default.createElement("div",null,i.default.createElement("input",{ref:a,type:"password",className:"form-control"})),i.default.createElement("div",{ref:l,className:"text-danger d-none"}),i.default.createElement("div",{className:"no-title"},i.default.createElement("button",{ref:c,className:"btn btn-primary",type:"submit"},i.default.createElement("span",{ref:u,className:"spinner-border spinner-border-sm d-none",role:"status"}),i.default.createElement("span",{className:"primary"},"Continue"))))))};function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function x(){x=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new I(n||[]);return o(i,"_invoke",{value:O(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var L=Object.getPrototypeOf,S=L&&L(L(C([])));S&&S!==r&&n.call(S,i)&&(b=S);var N=w.prototype=y.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function r(o,a,i,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==E(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function O(t,r,n){var o=d;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=j(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function j(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,j(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(E(t)+" is not iterable")}return g.prototype=w,o(N,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,u,"GeneratorFunction")),e.prototype=Object.create(N),e},t.awrap=function(e){return{__await:e}},k(_.prototype),l(_.prototype,c,(function(){return this})),t.AsyncIterator=_,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new _(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(N),l(N,u,"Generator"),l(N,i,(function(){return this})),l(N,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function L(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function S(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){L(a,n,o,i,c,"next",e)}function c(e){L(a,n,o,i,c,"throw",e)}i(void 0)}))}}function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const _=function(e){var t=e.userAuth,r=e.onComplete,n=e.onVerificationRequired,o=e.onBack,a=N((0,i.useState)(!1),2),c=(a[0],a[1]),u=N((0,i.useState)(!1),2),l=u[0],s=u[1],d=N((0,i.useState)(null),2),h=(d[0],d[1]),p=N((0,i.useState)(null),2),m=p[0],v=p[1],y=N((0,i.useState)(t||""),2),g=y[0],w=y[1],b=(0,i.useRef)(),E=(0,i.useRef)(),L=(0,i.useRef)(),k=(0,i.useRef)(),_=(0,i.useRef)(),O=(0,i.useRef)(),j=(0,i.useRef)(),P=(0,i.useRef)(),A=(0,i.useRef)(),I=(0,i.useRef)(),C=(0,i.useRef)(),T=(0,i.useRef)(),R=function(e){return e.toLowerCase().replace(/[\s\-]+/gi,"")},G=function(e){m&&clearTimeout(m),v(setTimeout((function(){return F(e)}),500))},F=function(){var e=S(x().mark((function e(t){var r,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(t),c(!1),r=null,t.length<6?r="Must be at least 6 characters. Make it longer.":R(t)!==t&&(r="No dashes or spaces"),!r){e.next=8;break}B(r),e.next=18;break;case 8:return e.prev=8,e.next=11,f("POST","/auth/network-check",{network_name:t});case 11:n=e.sent,D(n),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(8),B("Something went wrong. Please try again later.");case 18:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){e?(e.available?(A.current.classList.add("d-none"),C.current.classList.remove("d-none"),c(!0)):B("Not available. Must be at least 3 characters different than an existing network. Make it unique or longer."),I.current.classList.add("d-none")):B("Something went wrong. Please try again later.")},B=function(e){A.current.textContent=e,A.current.classList.remove("d-none"),C.current.classList.add("d-none"),I.current.classList.add("d-none")},M=function(){var e=S(x().mark((function e(r){var n,o,a,i,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=E.current.value,o=L.current.value,a=k.current.value,i=_.current.checked,O.current.disabled=!0,j.current.classList.remove("d-none"),e.prev=7,e.next=10,f("POST","/auth/network-create",{user_name:n,user_auth:t||g,password:a,network_name:o,terms:i});case 10:c=e.sent,J(c),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),J(null);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e){if(e)if(e.error){var t=e.error;t.user_auth_conflict?U("This email or phone number is already taken. Please sign in or reset your password."):t.message&&U(t.message),t.network_name_message&&B(t.network_name_message)}else e.verification_required?(O.current.disabled=!1,j.current.classList.add("d-none"),n(e.verification_required.user_auth)):e.network?r(e.network.by_jwt):U("Something unexpected happened.");else U("Something went wrong. Please try again later.")},U=function(e){P.current.textContent=e,P.current.classList.remove("d-none"),O.current.disabled=!1,j.current.classList.add("d-none")};return i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("div",{className:"login-header"},i.default.createElement("div",{className:"title"},i.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),o()}},i.default.createElement("img",{src:"https://bringyour.com/res/images/arrow-back.svg",className:"arrow-back",alt:"Back"})),"Create a network"))),i.default.createElement("div",{className:"login-container"},i.default.createElement("form",{ref:b,onSubmit:M},i.default.createElement("div",{className:"info-title"},"Your Name"),i.default.createElement("div",null,i.default.createElement("input",{ref:E,type:"text",className:"form-control",onChange:function(e){if(!l){var t=e.target.value,r=R(t);L.current.value=r,F(r)}}})),i.default.createElement("div",{className:"info-title"},"Email or Phone Number"),i.default.createElement("div",null,i.default.createElement("input",{ref:T,type:"text",value:g,onChange:function(e){w(e.target.value)},className:"form-control",disabled:null!==t})),i.default.createElement("div",{className:"info-title"},"Password"),i.default.createElement("div",null,i.default.createElement("input",{ref:k,type:"password",className:"form-control"})),i.default.createElement("div",{className:"info-title"},"Choose a network name"),i.default.createElement("div",null,i.default.createElement("div",{className:"input-group"},i.default.createElement("input",{ref:L,type:"text",placeholder:"yournetworkname",className:"form-control network-name",onChange:function(e){""===e.target.value?s(!1):l||document.activeElement!==L.current||s(!0);var t=R(e.target.value);if(t!==e.target.value){var r=e.target.selectionStart,n=e.target.selectionEnd;e.target.value=t,e.target.setSelectionRange(r,n)}G(t)}}),i.default.createElement("span",{className:"input-group-text"},".ur.network",i.default.createElement("span",{ref:I,className:"spinner-border spinner-border-sm d-none",role:"status"})))),i.default.createElement("div",{ref:A,className:"text-secondary d-none"}),i.default.createElement("div",{ref:C,className:"text-success d-none"},"Available!"),i.default.createElement("div",{className:"no-title"},i.default.createElement("label",{className:"form-check-label"},i.default.createElement("input",{ref:_,type:"checkbox",className:"form-check-input"}),"A one-time message to establish your identity will be sent to you. Message and data rates may apply. I agree to the",i.default.createElement("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer"},"URnetwork terms"),". Learn about how we use and protect your data in our",i.default.createElement("a",{href:"/privacy",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy"),".")),i.default.createElement("div",{ref:P,className:"text-danger d-none"}),i.default.createElement("div",{className:"no-title"},i.default.createElement("button",{ref:O,className:"btn btn-primary",type:"submit"},i.default.createElement("span",{ref:j,className:"spinner-border spinner-border-sm d-none",role:"status"}),i.default.createElement("span",{className:"primary"},"Create Network"))))))};function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function j(){j=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new I(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(C([])));x&&x!==r&&n.call(x,i)&&(b=x);var L=w.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==O(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(O(t)+" is not iterable")}return g.prototype=w,o(L,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},S(N.prototype),l(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(L),l(L,u,"Generator"),l(L,i,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=C,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),A(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;A(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:C(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function P(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){P(a,n,o,i,c,"next",e)}function c(e){P(a,n,o,i,c,"throw",e)}i(void 0)}))}}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?C(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const T=function(e){var t=e.byJwt,r=e.onLogout,n=I((0,i.useState)(!1),2),o=n[0],a=n[1],c=I((0,i.useState)(""),2),u=c[0],l=c[1];(0,i.useEffect)((function(){if(t)try{var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(window.atob(e).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join("")),n=JSON.parse(r);l(n.network_name)}catch(e){console.error("Error parsing JWT:",e)}}),[t]);var s=(0,i.useRef)(),d=(0,i.useRef)(),h=(0,i.useRef)(),p=(0,i.useRef)(),m=(0,i.useRef)(),v=(0,i.useRef)(),y=(0,i.useRef)(),g=(0,i.useRef)(),w=(0,i.useRef)(),b=(0,i.useRef)(),E=function(){var e=A(j().mark((function e(){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.current.disabled=!0,d.current.classList.remove("d-none"),h.current.classList.add("d-none"),e.prev=3,e.next=6,f("POST","/auth/code-create",{uses:1,duration_minutes:1},t);case 6:r=e.sent,x(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),x(null);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),x=function(e){e?e.auth_code?window.location.assign("/c?auth_code=".concat(e.auth_code)):e.error?L(e.error.message):L("Something unexpected happened."):L("Something unexpected happened.")},L=function(e){h.current.textContent=e,h.current.classList.remove("d-none"),s.current.disabled=!1,d.current.classList.add("d-none")},S=function(){var e=A(j().mark((function e(){var r;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.current.disabled=!0,m.current.classList.remove("d-none"),v.current.classList.add("d-none"),y.current.classList.add("d-none"),e.prev=4,e.next=7,f("POST","/auth/code-create",{uses:1,duration_minutes:1},t);case 7:r=e.sent,N(r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),N(null);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=A(j().mark((function e(t){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=4;break}k("Something unexpected happened."),e.next=23;break;case 4:if(!t.auth_code){e.next=22;break}return e.prev=5,e.next=8,navigator.clipboard.writeText(t.auth_code);case 8:w.current.classList.add("d-none"),b.current.classList.remove("d-none"),m.current.classList.add("d-none"),setTimeout((function(){w.current.classList.remove("d-none"),b.current.classList.add("d-none"),p.current.disabled=!1}),1e3),e.next=20;break;case 14:e.prev=14,e.t0=e.catch(5),p.current.disabled=!1,m.current.classList.add("d-none"),y.current.classList.remove("d-none"),g.current.value=t.auth_code;case 20:e.next=23;break;case 22:t.error?k(t.error.message):k("Something unexpected happened.");case 23:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),k=function(e){v.current.textContent=e,v.current.classList.remove("d-none"),p.current.disabled=!1,m.current.classList.add("d-none")},_=function(){var e=A(j().mark((function e(r){return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(r.target.checked),e.prev=1,e.next=4,f("POST","/preferences/set-preferences",{product_updates:r.target.checked},t);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}();return i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("div",{className:"login-header"},i.default.createElement("div",{className:"title"},u),i.default.createElement("div",{className:"title"},".ur.network")),i.default.createElement("div",null,"Your network is now live!")),i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("div",null,i.default.createElement("button",{ref:s,onClick:E,type:"button",className:"btn btn-primary"},"Enter",i.default.createElement("span",{ref:d,className:"spinner-border spinner-border-sm d-none",role:"status"}))),i.default.createElement("div",{ref:h,className:"text-danger d-none"}))),i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("label",{className:"form-check-label"},i.default.createElement("input",{type:"checkbox",className:"form-check-input",checked:o,onChange:_}),"You can send me occasional product updates"))),i.default.createElement("div",{className:"login-separator"},"account tools"),i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("div",null,i.default.createElement("button",{ref:p,onClick:S,type:"button",className:"btn btn-secondary btn-sm"},i.default.createElement("span",{ref:w},"Copy an auth code"),i.default.createElement("span",{ref:b,className:"d-none"},"Copied"),i.default.createElement("span",{ref:m,className:"spinner-border spinner-border-sm d-none",role:"status"}))),i.default.createElement("div",{ref:v,className:"text-danger d-none"}),i.default.createElement("div",{ref:y,className:"input-group input-group-sm mb-3 d-none"},i.default.createElement("input",{ref:g,type:"text",className:"form-control",placeholder:"Auth Code",readOnly:!0})),i.default.createElement("div",null,"This is used to ",i.default.createElement("a",{href:"https://docs.ur.io/provider",target:"_blank",rel:"noopener noreferrer"},"set up provider nodes"),","," ",i.default.createElement("a",{href:"https://docs.ur.io/api",target:"_blank",rel:"noopener noreferrer"},"API access"),", and"," ",i.default.createElement("a",{href:"https://docs.ur.io/cli",target:"_blank",rel:"noopener noreferrer"},"command line tools"),"."))),i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),r()}},"Sign out"))))};function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function G(){G=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",c=a.asyncIterator||"@@asyncIterator",u=a.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,i=Object.create(a.prototype),c=new P(n||[]);return o(i,"_invoke",{value:k(e,r,c)}),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var d="suspendedStart",h="suspendedYield",p="executing",m="completed",v={};function y(){}function g(){}function w(){}var b={};l(b,i,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(A([])));x&&x!==r&&n.call(x,i)&&(b=x);var L=w.prototype=y.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function N(e,t){function r(o,a,i,c){var u=f(e[o],e,a);if("throw"!==u.type){var l=u.arg,s=l.value;return s&&"object"==R(s)&&n.call(s,"__await")?t.resolve(s.__await).then((function(e){r("next",e,i,c)}),(function(e){r("throw",e,i,c)})):t.resolve(s).then((function(e){l.value=e,i(l)}),(function(e){return r("throw",e,i,c)}))}c(u.arg)}var a;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return a=a?a.then(o,o):o()}})}function k(t,r,n){var o=d;return function(a,i){if(o===p)throw Error("Generator is already running");if(o===m){if("throw"===a)throw i;return{value:e,done:!0}}for(n.method=a,n.arg=i;;){var c=n.delegate;if(c){var u=_(c,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===d)throw o=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=p;var l=f(t,r,n);if("normal"===l.type){if(o=n.done?m:h,l.arg===v)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=m,n.method="throw",n.arg=l.arg)}}}function _(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator.return&&(r.method="return",r.arg=e,_(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var a=f(o,t.iterator,r.arg);if("throw"===a.type)return r.method="throw",r.arg=a.arg,r.delegate=null,v;var i=a.arg;return i?i.done?(r[t.resultName]=i.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,v):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function A(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return a.next=a}}throw new TypeError(R(t)+" is not iterable")}return g.prototype=w,o(L,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:g,configurable:!0}),g.displayName=l(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,l(e,u,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},S(N.prototype),l(N.prototype,c,(function(){return this})),t.AsyncIterator=N,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new N(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},S(L),l(L,u,"Generator"),l(L,i,(function(){return this})),l(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=A,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(j),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return c.type="throw",c.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],c=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(u&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:A(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),v}},t}function F(e,t,r,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function D(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function i(e){F(a,n,o,i,c,"next",e)}function c(e){F(a,n,o,i,c,"throw",e)}i(void 0)}))}}const B=function(e){var t=e.userAuth,r=e.onComplete,n=e.onBack,o=(0,i.useRef)(),a=(0,i.useRef)(),c=(0,i.useRef)(),u=(0,i.useRef)(),l=(0,i.useRef)(),s=(0,i.useRef)(),d=(0,i.useRef)(),h=(0,i.useRef)(),p=function(e){return e.replace(/[^\da-z]+/gi,"")},m=function(){var e=D(G().mark((function e(r){var n,o;return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),n=p(a.current.value),c.current.disabled=!0,u.current.classList.remove("d-none"),e.prev=4,e.next=7,f("POST","/auth/verify",{user_auth:t,verify_code:n});case 7:o=e.sent,v(o),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),v(null);case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}(),v=function(e){e?e.error?w(e.error.message):e.network?r(e.network.by_jwt):w("Something unexpected happened."):w("Something went wrong. Please try again later.")},y=function(){var e=D(G().mark((function e(){return G().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.current.classList.add("d-none"),d.current.classList.remove("d-none"),e.prev=2,e.next=5,f("POST","/auth/verify-send",{user_auth:t});case 5:g(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),g(!1);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(){return e.apply(this,arguments)}}(),g=function(e){d.current.classList.add("d-none"),e?(h.current.classList.remove("d-none"),setTimeout((function(){s.current.classList.remove("d-none"),h.current.classList.add("d-none")}),1e4)):s.current.classList.remove("d-none")},w=function(e){l.current.textContent=e,l.current.classList.remove("d-none"),c.current.disabled=!1,u.current.classList.add("d-none")};return i.default.createElement("div",{className:"login-option"},i.default.createElement("div",{className:"login-container"},i.default.createElement("div",{className:"login-header"},i.default.createElement("div",{className:"title"},i.default.createElement("a",{href:"#",onClick:function(e){e.preventDefault(),n()}},i.default.createElement("img",{src:"https://bringyour.com/res/images/arrow-back.svg",className:"arrow-back",alt:"Back"})),"Verify your ",t.startsWith("+")?"phone number":"email")),i.default.createElement("div",null,"We sent a code to ",t,". Please enter it below.")),i.default.createElement("div",{className:"login-container"},i.default.createElement("form",{ref:o,onSubmit:m},i.default.createElement("div",{className:"password-header"},i.default.createElement("div",{className:"info-title"},"Code"),i.default.createElement("div",{className:"header-right"},i.default.createElement("a",{ref:s,href:"#",onClick:function(e){e.preventDefault(),y()}},"Resend"),i.default.createElement("div",{ref:d,className:"d-none"},i.default.createElement("span",{className:"spinner-border spinner-border-sm",role:"status"}),"Resend"),i.default.createElement("div",{ref:h,className:"d-none"},"Sent!"))),i.default.createElement("div",null,i.default.createElement("input",{ref:a,type:"text",className:"form-control",onChange:function(e){var t=p(e.target.value);if(t!==e.target.value){var r=e.target.selectionStart,n=e.target.selectionEnd;e.target.value=t,e.target.setSelectionRange(r,n)}}})),i.default.createElement("div",{ref:l,className:"text-danger d-none"}),i.default.createElement("div",{className:"no-title"},i.default.createElement("button",{ref:c,className:"btn btn-primary",type:"submit"},i.default.createElement("span",{ref:u,className:"spinner-border spinner-border-sm d-none",role:"status"}),i.default.createElement("span",{className:"primary"},"Continue"))))))};function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a,i,c=[],u=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=a.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(e){l=!0,o=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(e){if("string"==typeof e)return J(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?J(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const U=function(){/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);var e=M((0,i.useState)(null),2),t=e[0],r=e[1],n=M((0,i.useState)("initial"),2),o=n[0],a=n[1],c=M((0,i.useState)(null),2),u=c[0],l=(c[1],M((0,i.useState)({}),2)),s=l[0],f=l[1];(0,i.useEffect)((function(){p(),d()}),[]);var d=function(){var e=new URLSearchParams(window.location.search),t=e.get("resetCode"),r=e.get("auth");t?(x(t),h()):r&&h()},h=function(){var e=document.getElementById("dialog-connect");e&&bootstrap.Modal.getOrCreateInstance(e).show()},p=function(){var e=localStorage.getItem("byJwt");e&&(r(e),a("complete"))},m=function(e){localStorage.setItem("byJwt",e),r(e),a("complete"),L()},y=function(){localStorage.removeItem("byJwt"),r(null),a("initial"),L()},g=function(e){f({userAuth:e}),a("password")},w=function(){f({userAuth:arguments.length>0&&void 0!==arguments[0]?arguments[0]:null}),a("create")},E=function(e){f({userAuth:e}),a("verify")},x=function(e){f({resetCode:e}),a("password-reset"),h()},L=function(){var e=new CustomEvent("byJwtChanged");document.dispatchEvent(e)};return i.default.createElement("div",{className:"connect-dialog modal fade",id:"dialog-connect",tabIndex:"-1"},i.default.createElement("div",{className:"modal-dialog modal-dialog-centered"},i.default.createElement("div",{className:"modal-content"},u&&i.default.createElement("div",{className:"alert alert-danger"},u),function(){switch(o){case"initial":return i.default.createElement(v,{onLogin:m,onPasswordLogin:g,onCreateNetwork:w});case"password":return i.default.createElement(b,{userAuth:s.userAuth,onLogin:m,onVerificationRequired:E,onBack:function(){return a("initial")}});case"create":return i.default.createElement(_,{userAuth:s.userAuth,onComplete:m,onVerificationRequired:E,onBack:function(){return a("initial")}});case"verify":return i.default.createElement(B,{userAuth:s.userAuth,onComplete:m,onBack:function(){return a("initial")}});case"complete":return i.default.createElement(T,{byJwt:t,onLogout:y});default:return null}}())))};var q=o(72),Y=o.n(q),z=o(825),V=o.n(z),$=o(659),H=o.n($),W=o(56),K=o.n(W),X=o(540),Q=o.n(X),Z=o(113),ee=o.n(Z),te=o(581),re={};re.styleTagTransform=ee(),re.setAttributes=K(),re.insert=H().bind(null,"head"),re.domAPI=V(),re.insertStyleElement=Q();Y()(te.A,re);te.A&&te.A.locals&&te.A.locals;var ne=function(){return i.default.createElement("div",null,i.default.createElement(s,null),i.default.createElement(U,null))},oe=function(e){var t=document.getElementById(e);(0,c.H)(t).render(i.default.createElement(ne,null))},ae=a.qw,ie=a.dm,ce=a.pK,ue=a.J$;export{ae as App,ie as Connect,ce as ConnectButton,ue as renderConnectUI};